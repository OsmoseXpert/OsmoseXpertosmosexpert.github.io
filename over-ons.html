<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Over ons | OsmoseXpert</title>
  <meta name="description" content="Leer OsmoseXpert kennen: onze missie, aanpak en waarden. Professionele ramenreiniging met osmosewater — streeploos, veilig en zonder chemie."/>

  <!-- BASIS: variabelen en globale stijl (zoals diensten.html) -->
  <style>
    :root{ --brand:#0f6ab8; --brand2:#29ABE2; --ink:#0b364f; --bg:#f6f9fc; }
    *{box-sizing:border-box}
    body{margin:0;font-family:Arial,Helvetica,sans-serif;color:#0f172a;background:var(--bg);line-height:1.6}
    a{color:var(--brand);text-decoration:none}
    a:hover{text-decoration:underline}
    .container{max-width:1100px;margin:0 auto;padding:0 20px}
  </style>

  <!-- NAV & DROPDOWN (1:1 overgenomen van diensten.html) -->
  <style>
    /* Sticky navigatie */
    .nav{position:sticky;top:0;z-index:100;display:flex;justify-content:flex-end;padding:10px 16px;background:#fff;border-bottom:1px solid #e2e8f0}
    .nav.blue-bg{background:linear-gradient(90deg,#03304f,#00304e);border-bottom:0}

    /* Hamburger rechts met drie streepjes */
    .nav-toggle{background:transparent;border:0;width:44px;height:44px;padding:0;cursor:pointer;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:5px}
    .nav-toggle .line{width:24px;height:3px;border-radius:2px;background:#0b364f}
    .nav.white-bg .nav-toggle .line{background:#0b364f}   /* witte achtergrond → huisblauw streepjes */
    .nav.blue-bg .nav-toggle .line{background:#fff}       /* blauwe header → witte streepjes */
    .nav-toggle:focus{outline:2px solid #29ABE2;outline-offset:2px}

    /* Lijst basis */
    .nav-list{display:none}

    /* Mobiel dropdown */
    @media (max-width:900px){
      .nav-list{position:absolute;top:56px;right:12px;display:none;flex-direction:column;gap:10px;background:#fff;border:1px solid #e2e8f0;padding:12px;border-radius:14px;box-shadow:0 12px 30px rgba(2,18,33,.22);width:min(86vw,360px);z-index:101}
      .nav-list.open{display:flex !important}
      .nav-list li{list-style:none}
      .nav-list a{display:block;padding:12px 14px;color:var(--ink);border-radius:10px}
      .nav-list a:hover{background:#eef5ff}
      .nav-list a.active,.nav-list a[aria-current="page"]{background:#e7f1ff;box-shadow:inset 0 0 0 1px rgba(15,106,184,.08)}
    }

    /* Desktop: gecentreerd menu (origineel, zonder hamburger) */
    @media (min-width:901px){
      .nav{justify-content:center}
      .nav-toggle{display:none}
      .nav-list{display:flex;gap:20px;position:static;border:0;box-shadow:none;background:transparent;padding:0}
      .nav-list li{list-style:none}
      .nav-list a{padding:6px 12px;border-radius:6px;color:#0f172a;text-decoration:none;font-weight:600}
      .nav-list a:hover{background:#e6f0fa}
      /* Page selector (actieve tab) – gradient chip identiek aan diensten.html */
      .nav-list a.active,.nav-list a[aria-current="page"]{background:linear-gradient(135deg,var(--brand),var(--brand2));color:#fff;border-radius:999px;box-shadow:0 6px 14px rgba(15,106,184,.25)}
    }
  </style>

  <!-- SUBHERO/BANNER (zelfde kleur en typografie als diensten.html) -->
  <style>
    .subhero{background:linear-gradient(90deg,#03304f,#00304e);color:#fff;padding:40px 20px;display:flex;align-items:center;justify-content:center}
    .subhero .wrap{max-width:1100px;width:100%}
    .subhero h1{margin:0 0 0 20px;font-size:clamp(22px,2.4vw,28px);color:#f3f7fb}
    .subhero .subtitle{color:#cfe4ff;font-size:clamp(14px,1.4vw,17px);font-weight:500;margin-left:24px}

    /* Mobiel: banner compacter (match diensten) */
    @media (max-width:900px){
      .subhero{padding:20px 16px}
      .subhero h1{margin:0;font-size:20px}
      .subhero .subtitle{font-size:14px;margin:4px 0 0 20px}
    }
  </style>

  <!-- (Optioneel) bestaande pagina-specifieke styles voor content-blokken -->
  <style>
    main .section{background:#fff;border-radius:12px;box-shadow:0 4px 24px rgba(0,0,0,.05);padding:22px;margin:26px 0}
    .section h2{color:#0a3d62;font-size:1.4rem;margin-bottom:12px}
    .section p{margin-bottom:16px}
    .usp-list{list-style:none;display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px;padding:0}
    .usp-list li{position:relative;padding:10px 12px 10px 30px;border:1px solid #e2e8f0;border-radius:10px;background:#fafcff;box-shadow:0 2px 6px rgba(0,0,0,.03)}
    .usp-list li::before{content:'✔';position:absolute;left:10px;top:10px;color:var(--brand);font-weight:700}
    .steps{counter-reset:step;list-style:none;padding:0;display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:12px}
    .steps li{position:relative;padding:12px 14px 12px 44px;border:1px solid #e2e8f0;border-radius:10px;background:#fff}
    .steps li::before{counter-increment:step;content:counter(step) ".";position:absolute;left:12px;top:12px;font-weight:700;color:#0f6ab8}
  </style>
  <!-- Calendly widget (voor 'Boek nu') -->
  <script>window.CALENDLY_DEFAULT='https://calendly.com/osmose-xpert-info/ramenreiniging';</script>
  <link rel="stylesheet" href="https://assets.calendly.com/assets/external/widget.css" />
  <script async src="https://assets.calendly.com/assets/external/widget.js"></script>
  <!-- Floating CTA styles -->
  <style id="floating-cta-styles">
    .floating-cta{position:fixed;right:16px;bottom:16px;z-index:9999;display:flex;flex-direction:column;gap:12px;transition:opacity .25s ease,transform .25s ease}
    .floating-cta.hidden{opacity:0;transform:translateY(16px);pointer-events:none}
    .floating-cta .cta-btn{display:inline-flex;align-items:center;justify-content:center;padding:14px 18px;border-radius:999px;font-weight:700;text-decoration:none;color:#fff;box-shadow:0 8px 20px rgba(0,0,0,.15);transition:transform .15s ease,box-shadow .15s ease}
    .floating-cta .cta-btn:hover{transform:translateY(-2px);box-shadow:0 12px 24px rgba(0,0,0,.2)}
    .floating-cta .cta-offerte{background:#10b981}
    .floating-cta .cta-boek{background:#2563eb}
    @media (max-width:480px){.floating-cta{right:12px;bottom:12px}.floating-cta .cta-btn{padding:12px 14px;font-size:15px}}
  </style>
</head>

<body class="over-ons-page">
  <!-- NAVIGATIE (gekopieerd patroon; active op Over ons) -->
  <nav aria-label="Hoofdmenu" class="nav white-bg">
    <button aria-controls="primary-nav" aria-expanded="false" aria-label="Menu" class="nav-toggle" type="button">
      <span class="line"></span>
      <span class="line"></span>
      <span class="line"></span>
    </button>
    <ul class="nav-list" id="primary-nav">
      <li><a href="index.html">Home</a></li>
      <li><a class="active" aria-current="page" href="over-ons.html">Over ons</a></li>
      <li><a href="diensten.html">Diensten</a></li>
      <li><a href="prijzen.html">Prijzen</a></li>
      <li><a href="onderhoudsplannen.html">Onderhoudsplannen</a></li>
      <li><a href="contact.html">Contact</a></li>
      <li><a href="faq.html">FAQ</a></li>
    </ul>
  </nav>

  <!-- BANNER (zelfde kleur/lettertype; eigen titel en subtitel) -->
  <header class="subhero">
    <div class="wrap">
      <h1>Over ons</h1>
      <p class="subtitle">Onze missie en identiteit</p>
    </div>
  </header>

  <!-- INHOUD (ongewijzigd; voeg hier je bestaande sections in) -->
  <main id="content" class="container">
    <!-- Onze oorsprong -->
    <section class="section">
      <h2>Onze oorsprong</h2>
      <p>OsmoseXpert is ontstaan vanuit een eenvoudige overtuiging: ramen en glaspartijen verdienen een behandeling die tegelijk grondig, veilig en milieuvriendelijk is. Vanuit Ronse bedienen we de regio Kluisbergen en Oudenaarde. We combineren moderne osmose‑technologie met vakmanschap en een consequente focus op kwaliteit.</p>
      <p>Het resultaat? Glasheldere ramen, veranda’s en zonnepanelen die langer schoon blijven. Zonder agressieve schoonmaakmiddelen. Zonder ladders tegen gevels. <strong>Wel</strong> met respect voor uw eigendom en omgeving.</p>
    </section>

    <!-- Missie & waarden -->
    <section class="section">
      <h2>Missie & waarden</h2>
      <ul class="usp-list">
        <li><strong>Kwaliteit zonder compromis:</strong> elk detail telt; wij werken alsof het ons eigen pand is.</li>
        <li><strong>Transparantie:</strong> duidelijke communicatie, heldere verwachtingen en eerlijke prijzen.</li>
        <li><strong>Duurzaam & veilig:</strong> osmosewater is 100% puur; geen residu, veilig voor mens, tuin en materiaal.</li>
        <li><strong>Betrouwbaarheid:</strong> afspraak = afspraak. We komen op tijd en laten alles netjes achter.</li>
        <li><strong>Tevredenheidsgarantie:</strong> niet tevreden? Dan komen wij gratis terug.</li>
        <li><strong>Verfijning in uitvoering:</strong> van voorbereiding tot afwerking werken we nauwkeurig en met oog voor detail.</li>
      </ul>
    </section>

    <!-- Onze werkwijze -->
    <section class="section">
      <h2>Onze werkwijze</h2>
      <p>Wij reinigen met professionele waterfed pole‑systemen tot circa 15 meter hoogte, vanaf de grond. Dat betekent: geen risico op krassen door ladders, geen onnodig betreden van daken en een strak, consistent resultaat.</p>
      <ul class="steps">
        <li><strong>Inspectie & planning:</strong> we bekijken uw ramen/glaspartijen en stemmen een passende frequentie af.</li>
        <li><strong>Voorbereiding:</strong> we spoelen oppervlakken eerst grondig door zodat vuil loskomt.</li>
        <li><strong>Reiniging met osmosewater:</strong> het ultra‑zuivere water neemt vuil mee en droogt streeploos op.</li>
        <li><strong>Nacontrole:</strong> we checken het geheel en werken indien nodig bij voor een perfect eindresultaat.</li>
        <li><strong>Discretie & netheid:</strong> we werken stil, ruimen al het materiaal ordelijk op en laten uw omgeving properer achter dan we ze aantroffen.</li>
        <li><strong>Feedback & opvolging:</strong> na elke reiniging korte check-in; we passen waar nodig het onderhoudsplan aan.</li>
      </ul>
    </section>

    <!-- Technologie -->
    <section class="section">
      <h2>Technologie die het verschil maakt</h2>
      <p>Osmosewater (0 ppm) bevat geen mineralen of zouten. Daardoor laat het geen druppelranden achter en stoot het nieuwe vervuiling langer af. In combinatie met zachte, niet‑krassende borstels beschermen we kwetsbare ondergronden zoals houten kozijnen en gecoat glas.</p>
    </section>

    <!-- Regio & klanten -->
    <section class="section">
      <h2>Regio & klanten</h2>
      <p>We zijn lokaal verankerd in Ronse en actief in Kluisbergen en Oudenaarde. Particulieren, vrije beroepen en KMO’s vertrouwen op ons voor ramen, glasgevels, veranda’s/serres en zonnepanelen. Voor grotere projecten maken we eerst een plaatsbezoek en werken we een transparante offerte op maat uit.</p>
    </section>

    <!-- Wat u mag verwachten -->
    <section class="section">
      <h2>Wat u mag verwachten</h2>
      <ul class="usp-list">
        <li><strong>Streeploos resultaat</strong> met tevredenheidsgarantie.</li>
        <li><strong>Discreet en geluidsarm</strong> werken, met oog voor uw privacy.</li>
        <li><strong>Geen chemische producten</strong>, geen zeepresten, langer schoon effect.</li>
        <li><strong>Heldere communicatie:</strong> vaste contactpersoon en duidelijke afspraken.</li>
      </ul>
      <div class="cta-row">
        <a href="offerte.html" class="pill">Offerte aanvragen</a>
        <a href="#boek" data-calendly class="pill">Boek nu</a>
      </div>
    </section>
  </main>

  <!-- Floating CTA buttons -->
  <div class="floating-cta" id="floatingCta">
    <a class="cta-btn cta-offerte" href="offerte.html" aria-label="Offerte aanvragen">Offerte aanvragen</a>
    <a class="cta-btn cta-boek" href="#boek" data-calendly aria-label="Afspraak boeken">Boek nu</a>
  </div>

  <!-- Footer -->
  <footer class="site-footer">
    <style>
      .site-footer{background:#0a3d62;color:rgba(255,255,255,.92);padding:30px 16px;font-size:.9rem;line-height:1.6}
      .foot-inner{max-width:1100px;margin:auto;display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:28px;align-items:start;text-align:left}
      .foot-inner div p{margin:4px 0}
      .foot-inner img{margin-bottom:10px;filter:drop-shadow(0 2px 4px rgba(0,0,0,.2))}
      .site-footer a{color:#cfe8ff;text-decoration:none}
      .site-footer a:hover{text-decoration:underline}
      .site-footer .legal{border-top:1px solid rgba(255,255,255,.15);margin-top:20px;padding-top:12px;text-align:center;color:#94a3b8;font-size:.85rem;line-height:1.5}
      @media(max-width:700px){.foot-inner{text-align:center}.foot-inner div{margin:auto}}
    </style>

    <div class="container foot-inner">
      <div>
        <p><strong>OsmoseXpert</strong></p>
        <p>Streeploos schoon, veilig en duurzaam.</p>
        <p>Ronse • Kluisbergen • Oudenaarde</p>
      </div>
      <div>
        <p><strong>Contact</strong></p>
        <p><a href="mailto:info@osmose-xpert.be">info@osmose-xpert.be</a></p>
        <p><a href="tel:+32493673484">0493 67 34 84</a></p>
      </div>
      <div>
        <p><strong>Informatie</strong></p>
        <p><a href="privacy.html">Privacy</a></p>
        <p><a href="cookiebeleid.html">Cookies</a></p>
        <p><a href="voorwaarden.html">Voorwaarden</a></p>
      </div>
    </div>
    <div class="container legal"><span class="btw">BTW BE0733.924.863</span><br/>© 2025 OsmoseXpert. Alle rechten voorbehouden.</div>
  </footer>

  <!-- Scripts: CTA gedrag en Calendly popup -->
  <script>
    (function(){
      const cta=document.getElementById('floatingCta');
      let lastY=window.scrollY;
      let t; 
      function onScroll(){
        const y=window.scrollY;
        if(!cta) return;
        if(y>lastY && y>80){ cta.classList.add('hidden'); } else { cta.classList.remove('hidden'); }
        lastY=y; clearTimeout(t); t=setTimeout(()=>cta.classList.remove('hidden'),150);
      }
      window.addEventListener('scroll', onScroll, {passive:true});

      // Calendly trigger
      document.addEventListener('click',function(e){
        const btn=e.target.closest('[data-calendly]');
        if(btn && window.Calendly){
          e.preventDefault();
          Calendly.initPopupWidget({url: window.CALENDLY_DEFAULT});
        }
      });
    })();
  </script>

  <!-- JS: hamburger toggle (identiek aan diensten.html) -->
  <script>
  (function(){
    var btn = document.querySelector('.nav-toggle');
    var list = document.getElementById('primary-nav');
    if(!btn || !list) return;

    function closeMenu(){
      list.classList.remove('open');
      btn.setAttribute('aria-expanded','false');
      list.style.display = '';
    }

    btn.addEventListener('click', function(e){
      e.preventDefault();
      e.stopPropagation();
      var isOpen = list.classList.toggle('open');
      btn.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
      if(isOpen){ list.style.display='flex'; } else { list.style.display=''; }
    });

    document.addEventListener('click', function(e){
      if(window.matchMedia('(max-width: 900px)').matches){
        if(list.classList.contains('open') && !list.contains(e.target) && e.target !== btn){
          closeMenu();
        }
      }
    });

    window.addEventListener('resize', function(){
      if(window.matchMedia('(min-width: 901px)').matches){
        closeMenu();
      }
    });

    list.addEventListener('click', function(e){
      var a = e.target.closest('a');
      if(a && window.matchMedia('(max-width: 900px)').matches){
        closeMenu();
      }
    });
  })();
  </script>

<!-- BEGIN OsmoseXpert Cookie Consent (page-lock, modal, 2 buttons) -->
<style>
  :root {
    --brand:#0f6ab8;
    --brand2:#29ABE2;
    --dark:#002B45;
    --ok:#10b981;
    --white:#ffffff;
    --line:#0a2b45;
  }
  body.ox-lock { overflow:hidden!important; }
  .ox-cc-backdrop{position:fixed;inset:0;background:rgba(2,10,20,.65);backdrop-filter:saturate(120%) blur(2px);z-index:9998}
  .ox-cc-panel{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);width:min(92vw,980px);border-radius:16px;border:1px solid var(--line);overflow:hidden;z-index:9999;box-shadow:0 24px 60px rgba(0,0,0,.25)}
  .ox-cc-head{background:linear-gradient(180deg,#083A5C,var(--dark));color:var(--white);padding:18px 22px;border-bottom:3px solid var(--brand2)}
  .ox-cc-head h2{margin:0;font-size:18px}
  .ox-cc-body{background:#fff;padding:20px 22px}
  .ox-cc-grid{display:flex;gap:16px;flex-wrap:wrap;align-items:center}
  .ox-cc-text{flex:1;line-height:1.6;color:#0f172a}
  .ox-cc-text a{color:#0f6ab8;text-decoration:none;font-weight:600}
  .ox-cc-text a:hover{text-decoration:underline}
  .ox-cc-actions{display:flex;gap:10px;flex-wrap:wrap}
  .ox-btn{appearance:none;border:none;border-radius:10px;cursor:pointer;font-weight:700;font-size:14px;padding:12px 18px;transition:.2s}
  .ox-btn:focus{outline:3px solid #93c5fd;outline-offset:2px}
  .ox-btn.settings{background:#29ABE2;color:#fff}
  .ox-btn.settings:hover{background:#0f6ab8}
  .ox-btn.accept{background:#10b981;color:#fff}
  .ox-btn.accept:hover{background:#0d9469}
  .ox-modal{position:fixed;inset:0;display:none;z-index:10000;align-items:center;justify-content:center;padding:20px;background:rgba(2,10,20,.55)}
  .ox-modal[aria-hidden="false"]{display:flex}
  .ox-modal-card{width:min(92vw,720px);background:#fff;border:1px solid #e5e7eb;border-radius:16px;box-shadow:0 20px 50px rgba(0,0,0,.25)}
  .ox-modal-hd{display:flex;align-items:center;justify-content:space-between;padding:16px 18px;border-bottom:1px solid #e5e7eb}
  .ox-modal-hd h3{margin:0,font-size:18px}
  .ox-modal-bd{padding:16px 18px}
  .ox-modal-ft{display:flex;gap:10px;justify-content:flex-end;padding:14px 18px;border-top:1px solid #e5e7eb}
  .ox-opt{display:flex;gap:12px;border:1px solid #e5e7eb;border-radius:12px;padding:12px;margin:8px 0}
  .ox-opt h4{margin:0 0 4px}
  .ox-switch{position:relative;width:44px;height:24px;flex:0 0 44px}
  .ox-switch input{opacity:0;width:0;height:0}
  .ox-slider{position:absolute;inset:0;background:#e5e7eb;border-radius:999px;transition:.2s}
  .ox-slider:before{content:"";position:absolute;height:18px;width:18px;left:3px;top:3px;background:#fff;border-radius:50%;box-shadow:0 1px 2px rgba(0,0,0,.2);transition:.2s}
  .ox-switch input:checked + .ox-slider{background:#0f6ab8}
  .ox-switch input:checked + .ox-slider:before{transform:translateX(20px)}
  .ox-btn.ghost{background:#fff;border:1px solid #e5e7eb;color:#0f172a}
  @media(max-width:720px){.ox-cc-grid{flex-direction:column;align-items:flex-start}.ox-cc-actions{width:100%;justify-content:flex-end}.ox-cc-actions .ox-btn{flex:1}}
  #ox-chatbase-container{position:fixed;right:16px;bottom:92px;width:380px;height:560px;display:none;border:1px solid #e5e7eb;border-radius:12px;overflow:hidden;background:#fff;z-index:9998;box-shadow:0 10px 30px rgba(0,0,0,.2)}
  #ox-chatbase-toggle{position:fixed;right:16px;bottom:16px;z-index:9998;appearance:none;border:none;border-radius:999px;padding:12px 14px;background:#0f6ab8;color:#fff;cursor:pointer;font:600 14px/1 Arial,Helvetica,sans-serif;box-shadow:0 6px 18px rgba(0,0,0,.18)}
  #ox-chatbase-toggle[hidden]{display:none}
</style>

<div id="ox-cc-root" hidden>
  <div class="ox-cc-backdrop" aria-hidden="false"></div>
  <section class="ox-cc-panel" role="dialog" aria-modal="true" aria-label="Cookiekeuze">
    <header class="ox-cc-head"><h2>Cookies bij OsmoseXpert</h2></header>
    <div class="ox-cc-body">
      <div class="ox-cc-grid">
        <p class="ox-cc-text">
          We gebruiken cookies om uw ervaring te verbeteren en onze prestaties te meten. U kunt <strong>instellingen aanpassen</strong> of <strong>alle cookies accepteren</strong>.
          Lees ons <a href="/cookiebeleid.html" target="_blank" rel="noopener">cookiebeleid</a> voor details.
        </p>
        <div class="ox-cc-actions">
          <button class="ox-btn settings" type="button" id="ox-btn-settings">Instellingen aanpassen</button>
          <button class="ox-btn accept" type="button" id="ox-btn-accept">Alles accepteren</button>
        </div>
      </div>
    </div>
  </section>
</div>

<div class="ox-modal" id="ox-settings-modal" aria-hidden="true" aria-label="Cookie-instellingen">
  <div class="ox-modal-card" role="document">
    <div class="ox-modal-hd"><h3>Cookie‑instellingen</h3><button class="ox-btn ghost" id="ox-btn-close" aria-label="Sluiten">Sluiten</button></div>
    <div class="ox-modal-bd">
      <div class="ox-opt">
        <div class="ox-switch" aria-hidden="true">
          <input type="checkbox" checked disabled>
          <span class="ox-slider"></span>
        </div>
        <div>
          <h4>Essentiële cookies <small>(altijd aan)</small></h4>
          <p>Nodig voor beveiliging, navigatie en basisfunctionaliteit.</p>
        </div>
      </div>
      <div class="ox-opt">
        <label class="ox-switch" for="ox-tog-analytics">
          <input type="checkbox" id="ox-tog-analytics">
          <span class="ox-slider"></span>
        </label>
        <div>
          <h4>Analytische cookies</h4>
          <p>Helpen ons gebruik en prestaties te meten (bijv. GA4).</p>
        </div>
      </div>
      <div class="ox-opt">
        <label class="ox-switch" for="ox-tog-marketing">
          <input type="checkbox" id="ox-tog-marketing">
          <span class="ox-slider"></span>
        </label>
        <div>
          <h4>Marketingcookies</h4>
          <p>Voor widgets/pixels en relevante content (bijv. chat).</p>
        </div>
      </div>
    </div>
    <div class="ox-modal-ft">
      <button class="ox-btn ghost" id="ox-btn-cancel">Annuleren</button>
      <button class="ox-btn accept" id="ox-btn-save">Bewaren</button>
    </div>
  </div>
</div>

<div id="ox-chatbase-container" aria-label="Digitale assistent"></div>
<button id="ox-chatbase-toggle" hidden type="button">Digitale assistent</button>

<script>
(function(){
  var KEY='ox_cookie_consent_v1';
  var GA_ID='G-FE95SCP0KD';
  var CHATBASE_IFRAME_SRC='https://www.chatbase.co/chatbot-iframe/TkHOZ_mxX3kecf30oT-ri';

  var root = document.getElementById('ox-cc-root');
  var btnAccept = document.getElementById('ox-btn-accept');
  var btnSettings = document.getElementById('ox-btn-settings');
  var modal = document.getElementById('ox-settings-modal');
  var btnSave = document.getElementById('ox-btn-save');
  var btnCancel = document.getElementById('ox-btn-cancel');
  var btnClose = document.getElementById('ox-btn-close');
  var togA = document.getElementById('ox-tog-analytics');
  var togM = document.getElementById('ox-tog-marketing');

  var chatBox = document.getElementById('ox-chatbase-container');
  var chatToggle = document.getElementById('ox-chatbase-toggle');
  var chatLoaded=false;

  function loadState(){ try { return JSON.parse(localStorage.getItem(KEY) || 'null'); } catch(e){ return null; } }
  function saveState(v){ localStorage.setItem(KEY, JSON.stringify(v)); }

  function show(){ root.hidden=false; document.body.classList.add('ox-lock'); }
  function hide(){ root.hidden=true; document.body.classList.remove('ox-lock'); }

  function openSettings(){ modal.setAttribute('aria-hidden','false'); }
  function closeSettings(){ modal.setAttribute('aria-hidden','true'); }

  function showOverlay(){ root.querySelector('.ox-cc-backdrop').style.display='block'; root.querySelector('.ox-cc-panel').style.display='block'; }
  function hideOverlay(){ root.querySelector('.ox-cc-backdrop').style.display='none'; root.querySelector('.ox-cc-panel').style.display='none'; }

  function apply(cons){ 
    document.documentElement.dataset.ccAnalytics = cons.analytics ? '1' : '0';
    document.documentElement.dataset.ccMarketing = cons.marketing ? '1' : '0';
    document.dispatchEvent(new CustomEvent('cookie-consent-changed',{detail:cons}));
    if(cons.analytics) loadGA();
    if(cons.marketing) enableChatbase(); else disableChatbase();
  }

  function acceptAll(){ 
    var cons = { essential:true, analytics:true, marketing:true, ts:Date.now() }; 
    saveState(cons); apply(cons); hide(); hideOverlay(); 
  }

  btnAccept.addEventListener('click', acceptAll);
  btnSettings.addEventListener('click', function(){ openSettings(); /* keep locked */ });

  btnCancel.addEventListener('click', function(){ closeSettings(); /* still locked */ });
  btnClose.addEventListener('click', function(){ closeSettings(); });

  btnSave.addEventListener('click', function(){ 
    var cons = { essential:true, analytics: !!togA.checked, marketing: !!togM.checked, ts:Date.now() }; 
    saveState(cons); apply(cons); hide(); closeSettings(); hideOverlay(); 
  });

  var current = loadState();
  if(!current){ show(); showOverlay(); }
  else { apply(current); /* already chosen => unlocked */ }

  window.cookieConsent = {
    open: function(){ show(); showOverlay(); },
    get: function(){ return loadState(); },
    set: function(opts){ var prev=loadState()||{essential:true,analytics:false,marketing:false}; var cons=Object.assign({},prev,opts,{ts:Date.now()}); saveState(cons); apply(cons); }
  };

  function loadGA(){ 
    if(!GA_ID || document.getElementById('ga4-src')) return; 
    var s1=document.createElement('script'); s1.async=true; s1.src='https://www.googletagmanager.com/gtag/js?id='+GA_ID; s1.id='ga4-src'; document.head.appendChild(s1);
    var s2=document.createElement('script'); s2.id='ga4-init'; s2.text="window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config','"+GA_ID+"',{anonymize_ip:true});"; document.head.appendChild(s2);
  }

  function enableChatbase(){ 
    chatToggle.hidden=false; 
    if(!chatLoaded){ 
      var ifr=document.createElement('iframe'); 
      ifr.src=CHATBASE_IFRAME_SRC; ifr.width='100%'; ifr.style.height='100%'; ifr.setAttribute('frameborder','0'); 
      chatBox.appendChild(ifr); chatLoaded=true; 
    } 
  }
  function disableChatbase(){ chatToggle.hidden=true; chatBox.style.display='none'; }
  chatToggle.addEventListener('click', function(){ chatBox.style.display = (chatBox.style.display==='block'?'none':'block'); });
})();
</script>
<!-- END OsmoseXpert Cookie Consent -->

</body>
</html>
